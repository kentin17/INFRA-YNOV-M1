
# Exercice2

# PARTIE 1: Identifier les ressources

1. Identifier les ressources et leurs tags
Utilise les commandes suivantes pour récupérer les informations des ressources EC2, interfaces réseau et volumes EBS, et vérifier les balises associées.

Commande pour récupérer les informations sur les instances EC2 avec les tags :
```bash
aws ec2 describe-instances --query "Reservations[*].Instances[*].{InstanceId: InstanceId, Tags: Tags}" --output json```
```
Commande pour récupérer les informations sur les interfaces réseau avec les tags :
```bash
aws ec2 describe-network-interfaces --query "NetworkInterfaces[*].{NetworkInterfaceId: NetworkInterfaceId, Tags: TagSet}" --output json
```
Commande pour récupérer les informations sur les volumes EBS avec les tags :
```bash

aws ec2 describe-volumes --query "Volumes[*].{VolumeId: VolumeId, Tags: Tags}" --output json
```
Ces commandes permettent d’identifier toutes les ressources créées avec leurs balises, y compris les balises Owner: qvos et Name: qvos.

2. Créer un groupe de ressources avec AWS CLI
Crée un groupe de ressources nommé d'après ton nom d'utilisateur (dans ce cas, qvos), qui regroupera toutes les ressources taguées avec Owner: qvos et Name: qvos.

Commande pour créer un groupe de ressources :
```bash
aws resource-groups create-group \
    --name "qvos" \
    --resource-query '{
        "Type": "TAG_FILTERS_1_0",
        "Query": "{\"ResourceTypeFilters\":[\"AWS::EC2::Instance\", \"AWS::EC2::NetworkInterface\", \"AWS::EC2::Volume\"],\"TagFilters\":[{\"Key\":\"Owner\",\"Values\":[\"qvos\"]},{\"Key\":\"Name\",\"Values\":[\"qvos\"]}]}"
    }'
```
Explication des paramètres :
--name : Nom du groupe de ressources (qvos).
--resource-query : Filtre les ressources par type (EC2 Instance, Network Interface, Volume EBS) et par les balises Owner: qvos et Name: qvos.

3. Vérifier les ressources dans le groupe
Une fois le groupe de ressources créé, tu peux vérifier qu'il contient bien les bonnes ressources en utilisant la commande suivante :

Commande pour lister les ressources du groupe :
```bash
aws resource-groups list-group-resources --group-name "qvos"
````
4. Prévisualisation du groupe (facultatif)
Tu peux également utiliser une prévisualisation pour vérifier les critères avant de créer le groupe de ressources, en testant la requête avec cette commande :

```bash

aws resource-groups search-resources --resource-query '{
    "Type": "TAG_FILTERS_1_0",
    "Query": "{\"ResourceTypeFilters\":[\"AWS::EC2::Instance\", \"AWS::EC2::NetworkInterface\", \"AWS::EC2::Volume\"],\"TagFilters\":[{\"Key\":\"Owner\",\"Values\":[\"qvos\"]},{\"Key\":\"Name\",\"Values\":[\"qvos\"]}]}"
}'
```

Conclusion :
Ces commandes permettent d’identifier les ressources que tu as créées, de les regrouper dans un groupe de ressources nommé qvos, et de vérifier que toutes les ressources associées à ces balises sont bien incluses dans le groupe.
